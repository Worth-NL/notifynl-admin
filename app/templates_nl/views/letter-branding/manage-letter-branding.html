{% extends "views/platform-admin/_base_template.html" %}
{% from "components/file-upload.html" import file_upload %}
{% from "components/page-header.html" import page_header %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/form.html" import form_wrapper %}
{% from "govuk_frontend_jinja/components/back-link/macro.html" import govukBackLink %}

{% block errorPrefix %}
  {% if file_upload_form.errors or letter_branding_details_form.errors %}Fout: {% endif %}
{% endblock %}

{% block errorSummary %}
  {% if error_summary_enabled %}
    {% if file_upload_form and file_upload_form.errors %}
      {{ errorSummary(file_upload_form) }}
    {% elif letter_branding_details_form and letter_branding_details_form.errors %}
      {{ errorSummary(letter_branding_details_form) }}
    {% endif %}
  {% endif %}
{% endblock %}

{% block per_page_title %}
  {{ '{} briefhuisstijl'.format('Bijwerken' if is_update else 'Toevoegen') }}
{% endblock %}

{% block backLink %}
  {{ govukBackLink({ "href": back_link }) }}
{% endblock %}

{% block platform_admin_content %}
  {{ page_header('{} briefhuisstijl'.format('Bijwerken' if is_update else 'Toevoegen')) }}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
      {% if logo %}
        <div id="logo-img">
          <img src="https://{{ cdn_url }}/{{ logo }}"/>
        </div>
      {% endif %}
      <p class="govuk-body">
        Logoâ€™s moeten SVG-bestanden zijn, bijgesneden op de werkelijke afbeelding en met alle lettertypen omgezet in contouren.
      </p>
      {{ file_upload(file_upload_form.file, allowed_file_extensions=['svg'], button_text='{} logo'.format('Bijwerken' if is_update else 'Uploaden')) }}
      {% call form_wrapper() %}
        <div class="form-group">
          {{ letter_branding_details_form.name(param_extensions={
            "formGroup": {"classes": "govuk-!-margin-top-3"}
          }) }}
          {{ page_footer(
            'Opslaan',
            button_name='operation',
            button_value='branding-details'
          ) }}
        </div>
      {% endcall %}
    </div>
  </div>

{% endblock %}
